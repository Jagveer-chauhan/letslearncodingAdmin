<div class="container">
  <div class="header">
    <h3>COURSE PAGE</h3>
  </div>
  <mat-horizontal-stepper>
    <form
      [formGroup]="coursePageDetails"
      (ngSubmit)="addCoursePage(coursePageDetails.value)"
    >
      <mat-step label="Course Title" [stepControl]="coursePageDetails">
        <div class="card">
          <h3>Course Details</h3>

          <mat-form-field appearance="outline">
            <mat-label>Category</mat-label>
            <mat-select  formControlName="category_id">
              <mat-option
                *ngFor="let item of categoriesList"
                [value]="item.id"
              >
                {{ item.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Enter Course Title</mat-label>
            <input
              matInput
              placeholder="Enter title..."
              type="text"
              formControlName="title"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Enter Course Tag Line</mat-label>
            <input
              matInput
              placeholder="Enter Tag line..."
              type="text"
              formControlName="tagline"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Course Heading</mat-label>
            <input
              matInput
              placeholder="Enter heading..."
              type="text"
              formControlName="heading"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Course Description</mat-label>
            <input
              matInput
              placeholder="Enter description..."
              type="text"
              formControlName="description"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Enter Course Slug</mat-label>
            <input
              matInput
              placeholder="Enter Slug..."
              type="text"
              formControlName="slug"
            />
          </mat-form-field>
        </div>
        <!-- <div class="card">
          <h3>Enter Mobile Headings</h3>
          <mat-form-field appearance="outline">
            <mat-label>Enter Heading For Mobile</mat-label>
            <input
              matInput
              placeholder="Enter heading..."
              type="text"
              formControlName="heading_for_mobile"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Enter Sub Heading For Mobile</mat-label>
            <input
              matInput
              placeholder="Enter Sub Heading For Mobile.."
              type="text"
              formControlName="sub_heading_for_mobile"
            />
          </mat-form-field>
        </div> -->
        <!-- <div class="card">
            <h3>Project Point</h3>
          <div class="row px-3" *ngFor="let i of projectPointList">
            <mat-form-field appearance="outline" style="width: 70%">
              <mat-label>Enter Point</mat-label>
              <input
                matInput
                type="text"
                placeholder="Enter point..."
                [(ngModel)]="i.projectPoint"
                [ngModelOptions]="{ standalone: true }"
              />
            </mat-form-field>
            <div class="px-2">
              <button
                mat-raised-button
                class="btn btn-warning"
                (click)="removeProjectPoint(i)"
              >
                Remove
              </button>
            </div>
          </div>

          <div class="col-md-2">
            <button
              mat-raised-button
              class="btn btn-primary"
              (click)="addProjectPoints()"
            >
              Add NEW
            </button>
          </div>
        </div> -->
        <div class="card">
          <h3>SEO Content</h3>
          <mat-form-field appearance="outline">
            <mat-label>Enter Meta Title</mat-label>
            <input
              matInput
              placeholder="Enter title..."
              type="text"
              formControlName="meta_title"
            />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Enter Meta Description</mat-label>
            <input
              matInput
              placeholder="Enter Description..."
              type="text"
              formControlName="meta_description"
            />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Enter Meta Keywords</mat-label>
            <input
              matInput
              placeholder="Enter keywords..."
              type="text"
              formControlName="meta_keywords"
            />
          </mat-form-field>
        </div>
        <div>
          <h3>Banner Image</h3>
          

            <input
            hidden
            accept="image/*"
            (change)="onFileSelected('banner')"
            #fileInput1
            type="file"
            id="filebanner"
          />

          <mat-error *ngIf="isFileNotSelected">Image is a required</mat-error>
          <div class="row">
            <div class="card image mt-3" *ngIf="selectedBannerImage">
              <img
                [src]="selectedBannerImage"
                alt=""
              />
            </div>
            <div class="imgBtn">
              <button type="button" mat-raised-button (click)="fileInput1.click()">
                Choose File
              </button>
              <!-- <button *ngIf="coursePageId" type="button" (click)="updateImage('banner_image')" class="btn btn-success"><mat-icon>save</mat-icon>Save</button> -->
           
             </div>
          </div>
        </div>
        <div style="text-align: right">
          <button *ngIf="coursePageUpdate" type="button" mat-raised-button (click)="update_CourseDetail_Project_SEO_CONTENT(coursePageDetails.value)" class="btn btn-success">Save</button>
          <button type="button" matStepperNext class="btn btn-primary">Next</button>
        </div>
      </mat-step>
      <mat-step label="Course Content">
        <h3>Add Course Content</h3>
        <div class="card section" *ngFor="let j of courseContentList">
          <mat-form-field appearance="outline">
            <mat-label>Position</mat-label>
            <input
              matInput
              placeholder="Ex 1,2,3..."
              type="number"
              [(ngModel)]="j.rank"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="true"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Heading Name</mat-label>
            <input
              matInput
              placeholder="Enter heading..."
              type="text"
              [(ngModel)]="j.heading"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <!-- <mat-form-field appearance="outline">
            <mat-label>Heading Description</mat-label>
            <input
              matInput
              placeholder="Enter description..."
              type="text"
              [(ngModel)]="j.description"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Sub Heading</mat-label>
            <input
              matInput
              placeholder="Enter sub-heading..."
              type="text"
              [(ngModel)]="j.sub_heading"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field> -->

          <mat-form-field appearance="outline">
            <mat-label>Sub Heading Points</mat-label>
            <div class="col">
              <input matInput type="text" placeholder="Enter point..." #coursepoint />
              <button
                class="btn btn-primary addPointBtn"
                (click)="addcourseContentSubHeadingPoints(coursepoint, j)"
                mat-raised-button
              >
                Add
              </button>
            </div>
          </mat-form-field>

          <div>
            <ol>
              <li
                *ngFor="
                  let item of j.subHeadingPoints;
                  let i = index
                "
              >
                {{ item }}
                <mat-icon  class="removeBtn" (click)="removeCourseContentSubheadingPoint(j,item)"
                  >clear</mat-icon
                >
              </li>
            </ol>
          </div>
          <div style="text-align: right">
            <button *ngIf="coursePageUpdate" type="button" (click)="update_CourseContent_or_Faq('courseContent',j)" class="btn btn-success"><mat-icon>save</mat-icon>Save</button>
            <button mat-raised-button (click)="delete_CourseContent_OR_faq('courseContent',j)" class="btn btn-danger">REMOVE</button>
          </div>
        </div>
        <div class="col-md-2">
          <button
            mat-raised-button
            class="btn btn-primary"
            (click)="addCourseContent()"
          >
            Add NEW
          </button>
        </div>
        <div style="text-align: right">
          <button type="button" matStepperNext class="btn btn-primary">Next</button>
        </div>
      </mat-step>
      <!-- <mat-step label="Course Faq">
        <h3>Add Course FAQ</h3>
        <div class="card section" *ngFor="let k of faqList">
          <mat-form-field appearance="outline">
            <mat-label>Position</mat-label>
            <input
              matInput
              placeholder="Ex 1,2,3..."
              type="number"
              [(ngModel)]="k.rank"
              [ngModelOptions]="{ standalone: true }"
              [disabled]="true"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Question</mat-label>
            <input
              matInput
              placeholder="Write Ques..."
              type="text"
              [(ngModel)]="k.heading"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Answer</mat-label>
            <input
              matInput
              placeholder="Write answer..."
              type="text"
              [(ngModel)]="k.description"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field> -->
          <!-- <mat-form-field appearance="outline">
            <mat-label>Sub Heading</mat-label>
            <input
              matInput
              placeholder="Enter sub-heading..."
              type="text"
              [(ngModel)]="k.sub_heading"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field> -->

          <!-- <mat-form-field appearance="outline">
            <mat-label>Sub Heading Points</mat-label>
            <div class="col">
              <input matInput type="text" placeholder="Enter point..." #faqpoint />
              <button
                mat-raised-button
                class="btn btn-primary addPointBtn"
                (click)="addfaqSubHeadingPoints(faqpoint, k)"
              >
                Add
              </button>
            </div>
          </mat-form-field> -->

          <!-- <div>
            <ol>
              <li *ngFor="let item of k.subHeadingPoints let i = index">
                {{ item }}
                <mat-icon class="removeBtn" (click)="removefaqSubheadingPoint(k,item)"
                  >clear</mat-icon
                >
              </li>
            </ol>
          </div> -->
          <!-- <div style="text-align: right">
            <button *ngIf="coursePageUpdate" type="button" (click)="update_CourseContent_or_Faq('faq',k)" class="btn btn-success"><mat-icon>save</mat-icon>Save</button>
            <button mat-raised-button (click)="delete_CourseContent_OR_faq('faq',k)" class="btn btn-danger">REMOVE</button>
          </div>
        </div>
        <div class="col-md-2">
          <button mat-raised-button class="btn btn-primary" (click)="addFaq()">
            Add NEW
          </button>
        </div>
        <div style="text-align: right">
          <button type="button" matStepperNext class="btn btn-primary">Next</button>
        </div>
      </mat-step> -->
      <!-- <mat-step label="Image">
        <div>
          <h3>Banner Image</h3>
          

            <input
            hidden
            accept="image/*"
            (change)="onFileSelected('banner')"
            #fileInput1
            type="file"
            id="filebanner"
          />

          <mat-error *ngIf="isFileNotSelected">Image is a required</mat-error>
          <div class="row">
            <div class="card image mt-3" *ngIf="selectedBannerImage">
              <img
                [src]="selectedBannerImage"
                alt=""
              />
            </div>
            <div class="imgBtn">
              <button type="button" mat-raised-button (click)="fileInput1.click()">
                Choose File
              </button> -->
              <!-- <button *ngIf="coursePageId" type="button" (click)="updateImage('banner_image')" class="btn btn-success"><mat-icon>save</mat-icon>Save</button> -->
           
             <!-- </div>
          </div>
        </div> -->
        <!-- <hr>
        <div class="mt-5">
          <h3>Course thumbnail Image</h3>

          
          <input
          hidden
            accept="image/*"
            (change)="onFileSelected('content')"
            #fileInput2
            type="file"
            id="filecontent"
            />
            <mat-error *ngIf="isFileNotSelected">Image is a required</mat-error>
            
            <div class="row">
          <div class="card image mt-3" *ngIf="selectedContentImage">
            <img
              
              [src]="selectedContentImage"
              alt=""
            />
          </div>
            <div class="imgBtn">
              <button type="button" mat-raised-button (click)="fileInput2.click()">
                Choose File
              </button>
              <button *ngIf="coursePageId" type="button" (click)="updateImage('content_image')" class="btn btn-success"><mat-icon>save</mat-icon>Save</button>
         
            </div>
        </div>
        </div>
        <hr>
        <div class="mt-5">
          <h3>Certificate Image</h3>

         
          <input
            hidden
            accept="image/*"
            (change)="onFileSelected('certificate')"
            #fileInput3
            type="file"
            id="filecertificate"
          />
          <mat-error *ngIf="isFileNotSelected">Image is a required</mat-error>
          <div class="row">

            <div class="card image mt-3" *ngIf="selectedCertificateImage">
              <img
              
              [src]="selectedCertificateImage"
              alt=""
              />
            </div>
            <div class="imgBtn">
              <button type="button" mat-raised-button (click)="fileInput3.click()">
                Choose File
              </button>
              <button *ngIf="coursePageId" type="button" (click)="updateImage('certificate_image')" class="btn btn-success"><mat-icon>save</mat-icon> Save</button>
            </div>
          </div>
        </div>
       

        <hr>
        <div class="mt-5">
          <h3>Mobile Banner Image</h3>

         
          <input
            hidden
            accept="image/*"
            (change)="onFileSelected('mobile_banner')"
            #fileInput4
            type="file"
            id="filemobile_banner"
          />
          <mat-error *ngIf="isFileNotSelected">Image is a required</mat-error>
          <div class="row">

            <div class="card image mt-3" *ngIf="selectedMobileBannerImage">
              <img
              
              [src]="selectedMobileBannerImage"
              alt=""
              />
            </div>
            <div class="imgBtn">
              <button type="button" mat-raised-button (click)="fileInput4.click()">
                Choose File
              </button>
              <button *ngIf="coursePageId" type="button" (click)="updateImage('mobile_banner_image')" class="btn btn-success"><mat-icon>save</mat-icon> Save</button>
            </div>
          </div>
        </div>
        <div style="text-align: right">
          <button type="button" matStepperNext class="btn btn-primary">Next</button>
        </div> -->
      <!-- </mat-step> -->

      <!-- <mat-step label="Brochure">
        <h3>Add Brochure</h3>
        <div class="card section">
          <div *ngIf="pdfLink">
            <p>Open Brochure file <a href="{{pdfLink}}" target="_blank">Click here</a>.</p>
          </div>
        </div>
        <div>
          <button type="button" mat-raised-button (click)="fileInput.click()">Update Brochure</button>
            <input hidden  accept="application/pdf*" (change)="onPdfFileSelected($event)" #fileInput type="file" id="file">
            <mat-error
              *ngIf="isFileNotSelected"
              >PDF is a required</mat-error
            >
            <div *ngIf="selectedFileName">{{ selectedFileName }}</div>
            <button mat-raised-button color="primary" *ngIf="isFileValid" (click)="viewPdf()">View PDF</button>
            <button mat-raised-button color="primary" *ngIf="isFileValid" (click)="updateBrochure()">Update PDF</button>
        </div>
      </mat-step> -->

      <mat-step label="course review">
        <h3>Add Review</h3>
        <div class="card section" *ngFor="let m of reviewList">
          
          <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input
              matInput
              placeholder="Enter name..."
              type="text"
              [(ngModel)]="m.name"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Review</mat-label>
            <input
              matInput
              placeholder="Enter review..."
              type="text"
              [(ngModel)]="m.description"
              [ngModelOptions]="{ standalone: true }"
            />
          </mat-form-field>
          <div style="text-align: right;">
            <button *ngIf="coursePageUpdate" type="button" mat-raised-button (click)="updateReview(m)" class="btn btn-success"><mat-icon>save</mat-icon>Save</button>
            <button  type="button" mat-raised-button (click)="deleteReview(m)" class="btn btn-danger">Remove</button>
          </div>
        </div>
        <div class="col-md-2">
          <button
            mat-raised-button
            class="btn btn-primary"
            (click)="addReview()"
          >
            Add NEW
          </button>
        </div>

        <div *ngIf="!coursePageUpdate" class="mt-3" style="text-align: right">
          <button
            type="submit"
            mat-raised-button
            class="btn-success"
            (click)="addCoursePage(coursePageDetails.value)"
          >
            Save Course Page
          </button>
        </div>
      </mat-step>
    </form>
  </mat-horizontal-stepper>
</div>
